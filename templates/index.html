<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LeaveTrack-Pro</title>
  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <nav class="navbar navbar-dark bg-primary mb-4">
    <div class="container">
      <span class="navbar-brand mb-0 h1">LeaveTrack-Pro</span>
    </div>
  </nav>
  <div class="container">
    <h2 class="mb-3 text-center">Welcome to LeaveTrack-Pro!</h2>
    <p class="text-center">Take control of your leave management with LeaveTrack-Pro.</p>  
  </div>
  <div class="text-center mt-4">
    <a href="/add" class="btn btn-success">â• Add New Leave Request</a>
  </div>
  <!-- âœ… Step 3.1: Table with Action Buttons -->
{% if requests %}
<table class="table table-bordered table-striped mt-5 align-middle">
  <thead class="table-primary">
    <tr>
      <th>Employee Name</th>
      <th>Leave Type</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Reason</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for req in requests %}
    <tr>
      <td>{{ req.name }}</td>
      <td>{{ req.leave_type }}</td>
      <td>{{ req.start_date }}</td>
      <td>{{ req.end_date }}</td>
      <td>{{ req.reason }}</td>
      <td>
        {% if req.status == 'Approved' %}
          <span class="badge bg-success">{{ req.status }}</span>
        {% elif req.status == 'Rejected' %}
          <span class="badge bg-danger">{{ req.status }}</span>
        {% else %}
          <span class="badge bg-secondary">{{ req.status }}</span>
        {% endif %}
      </td>
      <td>
        <a href="/edit/{{ loop.index0 }}" class="btn btn-sm btn-warning">âœï¸ Edit</a>
        <a href="/delete/{{ loop.index0 }}" class="btn btn-sm btn-danger">ğŸ—‘ Delete</a>
        <a href="/approve/{{ loop.index0 }}" class="btn btn-sm btn-success">âœ… Approve</a>
        <a href="/reject/{{ loop.index0 }}" class="btn btn-sm btn-secondary">âŒ Reject</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p class="text-center text-muted mt-5">No requests yet â€” add one!</p>
{% endif %}
  </div>
</body>
</html>
